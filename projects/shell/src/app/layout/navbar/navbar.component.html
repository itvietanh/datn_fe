<!-- Main navbar -->
<div class="navbar navbar-expand-md navbar-dark custom-color-menu fixed-top">
  <div class="d-md-none">
    <button
      class="navbar-toggler sidebar-mobile-main-toggle"
      type="button"
      (click)="showMenuMobile()"
    >
      <i class="icon-paragraph-justify3"></i>
    </button>
    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbar-mobile"
    >
      <i class="icon-user"></i>
    </button>
  </div>

  <ul class="navbar-nav">
    <li class="nav-item">
      <a
        (click)="resizeMenu()"
        class="navbar-nav-link sidebar-control sidebar-main-toggle d-none d-md-block"
      >
        <i class="icon-paragraph-justify3"></i>
      </a>
    </li>
  </ul>

  <div class="navbar-brand">
    <div class="d-inline-block">
      <div class="logo">
        <a [routerLink]="['/']">
          <!-- <img src="assets/images/logo-asm.svg" /> -->
        </a>
      </div>
      <div class="text">
        <div class="text-bottom">HỆ THỐNG QUẢN LÝ KHÁCH SẠN</div>
      </div>
    </div>
  </div>

  <div class="collapse navbar-collapse" id="navbar-mobile">
    <ul class="navbar-nav ml-md-3 mr-md-auto"></ul>

    <ul class="navbar-nav">
      <li *ngIf="listAccom.length" class="nav-item accom-current">
        <i class="isax-building-31 nar-icon mr-2"></i>
        <div class="d-inline-block mr-2">
          <input-select
            [items]="listAccom"
            [(ngModel)]="accomId"
            [allowSearch]="false"
            (onChange)="changeAccom($event)"
          ></input-select>
        </div>
      </li>

      <li class="nav-item dropdown">
        <a
          href="{{ docLink }}"
          class="navbar-nav-link dropdown-toggle caret-0"
          target="_blank"
          nz-tooltip
          nzTooltipTitle="Hướng dẫn"
        >
          <i class="isax-book1 nar-icon"></i>
          <span class="show-md">Hướng dẫn</span>
        </a>
      </li>

      <li class="nav-item dropdown">
        <a
          href="#"
          class="navbar-nav-link dropdown-toggle caret-0"
          data-toggle="dropdown"
        >
          <nz-badge [nzDot]="listNotification.length > 0">
            <i class="isax-notification1 nar-icon"></i>
            <span class="show-md">Thông báo</span>
          </nz-badge>
        </a>

        <div
          class="dropdown-menu dropdown-menu-right dropdown-content wmin-md-350"
        >
          <div class="dropdown-content-header">
            <span class="font-weight-semibold">Thông báo</span>
            <!-- <a class="text-default"><i class="icon-compose"></i></a> -->
          </div>

          <div
            class="dropdown-content-body dropdown-scrollable"
            [infiniteScroll]="loadMore"
          >
            <ul class="media-list">
              <li *ngFor="let item of listNotification" class="media">
                <!-- <div class="mr-3 position-relative">
                  <img
                    src="#"
                    onerror="this.src='assets/images/placeholders/placeholder.jpg'"
                    width="36"
                    height="36"
                    class="rounded-circle"
                    alt=""
                  />
                </div> -->
                <div class="media-body">
                  <div class="media-title">
                    <a>
                      <span class="font-weight-semibold">{{ item.title }}</span>
                      <span class="text-muted float-right font-size-sm">{{
                        item.createdAt | datetimeFormat
                      }}</span>
                    </a>
                  </div>
                  <span class="text-muted">{{ item.content }}</span>
                </div>
              </li>
            </ul>
          </div>

          <div
            class="dropdown-content-footer justify-content-center p-0"
            *ngIf="isLoading === true"
          >
            <a class="bg-light text-grey w-100 text-center">Đang tải...</a>
          </div>
        </div>
      </li>

      <ng-container *ngIf="userService.userInfo">
        <li class="nav-item dropdown dropdown-user">
          <a
            href="#"
            class="navbar-nav-link d-flex align-items-center dropdown-toggle"
            data-toggle="dropdown"
          >
            <!-- <img
              src="assets/images/avatar-1606916_960_720.png"
              class="rounded-circle mr-2"
              height="34"
              alt=""
            /> -->
            <span>{{ userService.userInfo.username }}</span>
          </a>

          <div class="dropdown-menu dropdown-menu-right">
            <!-- <a [routerLink]="['/profile']" class="dropdown-item"
              ><i class="isax-user-square1"></i> Thông tin tài khoản</a
            >
            <a [routerLink]="['/change-password']" class="dropdown-item"
              ><i class="isax-shield-security1"></i> Đổi mật khẩu</a
            > -->
            <!-- <div class="dropdown-divider"></div> -->
            <a [routerLink]="['/auth', 'logout']" class="dropdown-item"
              ><i class="isax-logout-11"></i> Đăng xuất</a
            >
          </div>
        </li>
      </ng-container>
    </ul>
  </div>
</div>
<!-- /main navbar -->
