!function (n, e) { "object" == typeof exports && "underfind" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : n.VNPTeContract = e() }(this, (function () { "use strict"; var n = function (n) { const e = "https://econtract-poc.vnptit3.vn", o = "NORMAL", t = "ONLY_DETAIL"; var c, i, l = {}; return n.init = function (o = null) { o, window.addEventListener("message", (function (o) { console.log("-------------------"), console.log("You have message: ", o), console.log("Origin: ", o.origin), console.log("-------------------"), o.origin != e ? console.log("VNPT eContract: có tin đến và không đúng origin!") : n.callBackEndSign(o.data) }), !1), console.log("Inited handle message.") }, n.close = function () { }, n.open = function (e = null) { l.accessToken = e.accessToken || "", l.contractId = e.contractId || "", l.action = e.action || "", l.clientId = e.clientId || "", l.clientSecret = e.clientSecret || "", l.loginType = e.loginType || "", l.flowType = e.flowType || o || "", e.flowType != t || e.contractId ? function (e) { let o = window.screen.availHeight - 100, t = window.screen.availWidth - 150; c = window.open(e, "targetWindow", `toolbar=no,\n            location=no,\n            status=no,\n            menubar=no,\n            scrollbars=yes,\n            resizable=yes,\n            width=${t},\n            height=${o}`), clearInterval(i), null != c && null != c && (i = setInterval((function () { c.closed && (console.log("window popup is closed"), n.callBackEndSign({ status: "CANCEL" }), clearInterval(i)) }), 500)) }("https://econtract-poc.vnptit3.vn/wv/login?accessToken=" + l.accessToken + "&contractId=" + l.contractId + "&action=" + l.action + "&clientId=" + l.clientId + "&clientSecret=" + l.clientSecret + "&loginType=" + l.loginType + "&flowType=" + l.flowType) : n.callBackEndSign({ status: "ERROR", message: "Lỗi flowType (ONLY_DETAIL): Không tìm thấy contractId" }) }, n.getAccessToken = function () { return l.accessToken || "" }, n.callBackEndSign = function (n) { }, n }(n || {}); return n }));